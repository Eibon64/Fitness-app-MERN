{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getArgumentValues = void 0;\nconst graphql_1 = require(\"graphql\");\nconst errors_js_1 = require(\"./errors.js\");\nconst inspect_js_1 = require(\"./inspect.js\");\n/**\n * Prepares an object map of argument values given a list of argument\n * definitions and list of argument AST nodes.\n *\n * Note: The returned value is a plain Object with a prototype, since it is\n * exposed to user code. Care should be taken to not pull values from the\n * Object prototype.\n */\nfunction getArgumentValues(def, node) {\n  let variableValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _a;\n  const variableMap = Object.entries(variableValues).reduce((prev, _ref) => {\n    let [key, value] = _ref;\n    return {\n      ...prev,\n      [key]: value\n    };\n  }, {});\n  const coercedValues = {};\n  const argumentNodes = (_a = node.arguments) !== null && _a !== void 0 ? _a : [];\n  const argNodeMap = argumentNodes.reduce((prev, arg) => ({\n    ...prev,\n    [arg.name.value]: arg\n  }), {});\n  for (const {\n    name,\n    type: argType,\n    defaultValue\n  } of def.args) {\n    const argumentNode = argNodeMap[name];\n    if (!argumentNode) {\n      if (defaultValue !== undefined) {\n        coercedValues[name] = defaultValue;\n      } else if ((0, graphql_1.isNonNullType)(argType)) {\n        throw (0, errors_js_1.createGraphQLError)(`Argument \"${name}\" of required type \"${(0, inspect_js_1.inspect)(argType)}\" ` + 'was not provided.', {\n          nodes: [node]\n        });\n      }\n      continue;\n    }\n    const valueNode = argumentNode.value;\n    let isNull = valueNode.kind === graphql_1.Kind.NULL;\n    if (valueNode.kind === graphql_1.Kind.VARIABLE) {\n      const variableName = valueNode.name.value;\n      if (variableValues == null || variableMap[variableName] == null) {\n        if (defaultValue !== undefined) {\n          coercedValues[name] = defaultValue;\n        } else if ((0, graphql_1.isNonNullType)(argType)) {\n          throw (0, errors_js_1.createGraphQLError)(`Argument \"${name}\" of required type \"${(0, inspect_js_1.inspect)(argType)}\" ` + `was provided the variable \"$${variableName}\" which was not provided a runtime value.`, {\n            nodes: [valueNode]\n          });\n        }\n        continue;\n      }\n      isNull = variableValues[variableName] == null;\n    }\n    if (isNull && (0, graphql_1.isNonNullType)(argType)) {\n      throw (0, errors_js_1.createGraphQLError)(`Argument \"${name}\" of non-null type \"${(0, inspect_js_1.inspect)(argType)}\" ` + 'must not be null.', {\n        nodes: [valueNode]\n      });\n    }\n    const coercedValue = (0, graphql_1.valueFromAST)(valueNode, argType, variableValues);\n    if (coercedValue === undefined) {\n      // Note: ValuesOfCorrectTypeRule validation should catch this before\n      // execution. This is a runtime check to ensure execution does not\n      // continue with an invalid argument value.\n      throw (0, errors_js_1.createGraphQLError)(`Argument \"${name}\" has invalid value ${(0, graphql_1.print)(valueNode)}.`, {\n        nodes: [valueNode]\n      });\n    }\n    coercedValues[name] = coercedValue;\n  }\n  return coercedValues;\n}\nexports.getArgumentValues = getArgumentValues;","map":{"version":3,"names":["Object","defineProperty","exports","value","getArgumentValues","graphql_1","require","errors_js_1","inspect_js_1","def","node","variableValues","arguments","length","undefined","_a","variableMap","entries","reduce","prev","_ref","key","coercedValues","argumentNodes","argNodeMap","arg","name","type","argType","defaultValue","args","argumentNode","isNonNullType","createGraphQLError","inspect","nodes","valueNode","isNull","kind","Kind","NULL","VARIABLE","variableName","coercedValue","valueFromAST","print"],"sources":["/Users/chadward/node_modules/@graphql-tools/schema/node_modules/@graphql-tools/utils/cjs/getArgumentValues.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getArgumentValues = void 0;\nconst graphql_1 = require(\"graphql\");\nconst errors_js_1 = require(\"./errors.js\");\nconst inspect_js_1 = require(\"./inspect.js\");\n/**\n * Prepares an object map of argument values given a list of argument\n * definitions and list of argument AST nodes.\n *\n * Note: The returned value is a plain Object with a prototype, since it is\n * exposed to user code. Care should be taken to not pull values from the\n * Object prototype.\n */\nfunction getArgumentValues(def, node, variableValues = {}) {\n    var _a;\n    const variableMap = Object.entries(variableValues).reduce((prev, [key, value]) => ({\n        ...prev,\n        [key]: value,\n    }), {});\n    const coercedValues = {};\n    const argumentNodes = (_a = node.arguments) !== null && _a !== void 0 ? _a : [];\n    const argNodeMap = argumentNodes.reduce((prev, arg) => ({\n        ...prev,\n        [arg.name.value]: arg,\n    }), {});\n    for (const { name, type: argType, defaultValue } of def.args) {\n        const argumentNode = argNodeMap[name];\n        if (!argumentNode) {\n            if (defaultValue !== undefined) {\n                coercedValues[name] = defaultValue;\n            }\n            else if ((0, graphql_1.isNonNullType)(argType)) {\n                throw (0, errors_js_1.createGraphQLError)(`Argument \"${name}\" of required type \"${(0, inspect_js_1.inspect)(argType)}\" ` + 'was not provided.', {\n                    nodes: [node],\n                });\n            }\n            continue;\n        }\n        const valueNode = argumentNode.value;\n        let isNull = valueNode.kind === graphql_1.Kind.NULL;\n        if (valueNode.kind === graphql_1.Kind.VARIABLE) {\n            const variableName = valueNode.name.value;\n            if (variableValues == null || variableMap[variableName] == null) {\n                if (defaultValue !== undefined) {\n                    coercedValues[name] = defaultValue;\n                }\n                else if ((0, graphql_1.isNonNullType)(argType)) {\n                    throw (0, errors_js_1.createGraphQLError)(`Argument \"${name}\" of required type \"${(0, inspect_js_1.inspect)(argType)}\" ` +\n                        `was provided the variable \"$${variableName}\" which was not provided a runtime value.`, {\n                        nodes: [valueNode],\n                    });\n                }\n                continue;\n            }\n            isNull = variableValues[variableName] == null;\n        }\n        if (isNull && (0, graphql_1.isNonNullType)(argType)) {\n            throw (0, errors_js_1.createGraphQLError)(`Argument \"${name}\" of non-null type \"${(0, inspect_js_1.inspect)(argType)}\" ` + 'must not be null.', {\n                nodes: [valueNode],\n            });\n        }\n        const coercedValue = (0, graphql_1.valueFromAST)(valueNode, argType, variableValues);\n        if (coercedValue === undefined) {\n            // Note: ValuesOfCorrectTypeRule validation should catch this before\n            // execution. This is a runtime check to ensure execution does not\n            // continue with an invalid argument value.\n            throw (0, errors_js_1.createGraphQLError)(`Argument \"${name}\" has invalid value ${(0, graphql_1.print)(valueNode)}.`, {\n                nodes: [valueNode],\n            });\n        }\n        coercedValues[name] = coercedValue;\n    }\n    return coercedValues;\n}\nexports.getArgumentValues = getArgumentValues;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}